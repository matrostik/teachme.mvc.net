@model TeachMe.Models.HomeViewModel
@{
    ViewBag.Title = "TeachMe";
}
<div class="container content">
    <div class="jumbotron" style="margin-bottom:10px">

        <div class="row">
            <div class="col-md-4">
                <div class="breadcrumb">
                    <center>
                        @*<h1>TeachMe</h1>*@
                        <p>
                            <img src="/Images/logo_no_bg.png" width="185" height="185" style="" />
                        </p>
                        <p>
                            חיפוש מורה פרטי בכל תחום ובכל מקום שתבחר
                        </p>
                        <p><a href="https://github.com/matrostik/teachme.mvc.net/wiki" class="btn btn-primary btn-large">לפרטים &raquo;</a></p>

                    </center>
                </div>
                <script type="text/javascript" language="javascript" src="http://live.sekindo.com/live/liveView.php?s=51789&subId=DEFAULT"></script>
            </div>
            <div class="col-md-8">

                <div class="alert alert-dismissable alert-warning">
                    @using (Html.BeginForm("Map", "Search", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                {
                    <div class="row">
                        @Html.Label("חיפוש לפי מיקום", new { @class = "control-label" })
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            @Html.Label(" 1) הכנס את מיקומך", new { @class = "text-muted" })
                        </div>
                    </div>
                    <div class="row">
                        @*<div class="col-md-1">
                            </div>*@
                        <div class="col-md-2">
                            @Html.Label("מס' בית", new { @class = "control-label" })
                            @Html.TextBox("streetNum", "", new { @class = "form-control", @id = "inputDefault", @onkeypress = "return isNumber(event)" })
                        </div>
                        <div class="col-md-6">
                            @Html.Label("רחוב", new { @class = "control-label" })
                            @Html.TextBox("streetName", "", new { @class = "form-control", @id = "streetName" })
                        </div>
                        <div class="col-md-4">
                            @Html.Label("עיר", new { @class = "control-label" })
                            @Html.DropDownList("city", @Model.Cities, "בחר עיר", new { @class = "form-control" })
                        </div>

                    </div>
                    <div class="row" style="margin-top:10px">
                        <div class="col-md-8">
                            @Html.Label(" 3)בחר מקצוע", new { @class = "text-muted" })
                            @Html.DropDownList("category", @Model.Subjects, "בחר תחום", new { @class = "form-control" })
                        </div>
                        <div class="col-md-4">
                            @Html.Label(" 2) הכנס טווח חיפוש בק\"מ", new { @class = "text-muted" })
                            @Html.DropDownList("distance", @Model.Distances, "בחר טווח", new { @class = "form-control", @style = "width:100px" })
                        </div>
                    </div>
                    <br />
                    <div class="form-group">
                        <div class="col-lg-2 col-lg-offset-1">
                            <button type="submit" class="btn btn-primary" style=" width: 110px">
                                <span class="glyphicon glyphicon-search"></span>&nbsp;&nbsp;חפש
                            </button>
                        </div>

                    </div>

                }
                </div>
                <div class="alert alert-dismissable alert-warning">
                    @using (Html.BeginForm("Index", "Search", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                {
                    <div class="row">
                        @Html.Label("חיפוש לפי פרטי מורה", new { @class = "control-label" })
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            @Html.Label("firstName", "שם פרטי", new { @class = "control-label" })
                            @Html.TextBox("firstName", "", new { @class = "form-control", @id = "firstName" })
                        </div>
                        <div class="col-md-6">
                            @Html.Label("lastName", "שם משפחה", new { @class = "control-label" })
                            @Html.TextBox("lastName", "", new { @class = "form-control", @id = "lastName" })
                        </div>
                    </div>
                    <br />
                    <div class="form-group">

                        <div class="col-lg-2 col-lg-offset-1">
                            <button type="submit" class="btn btn-primary" style=" width: 110px">
                                <span class="glyphicon glyphicon-search"></span>&nbsp;&nbsp;חפש
                            </button>
                        </div>

                    </div>
                }
                </div>
            </div>
        </div>

    </div>

    <div class="row">
        <div class="col-md-4">
            <div class="list-group">

                <a href="#" class="list-group-item active">
                    <strong>מורים פופולריים</strong>
                </a>

                @foreach (var item in Model.MostCommentedTeachers)
            {
                <a href="/Teacher/@item.Id" class="list-group-item">
                    <div class="media">
                        <span class="pull-right">
                            <img class="media-object" data-src="holder.js/64x64" alt="64x64" src="@item.PictureUrl" style="width: 64px; height: 64px;">
                        </span>
                        <div class="media-body">
                            <h4 class="media-heading">@item.GetFullName()</h4>
                            <div><strong>תחומים:</strong> @item.GetSubjects()</div>
                            <div><strong>עיר:</strong> @item.City</div>
                        </div>
                    </div>
                </a>
            }
            </div>
        </div>
        <div class="col-md-4">
            <div class="list-group">

                <a href="#" class="list-group-item active">
                    <strong>מורים הכי מדורגים</strong>
                </a>

                @foreach (var item in Model.MostRatedTeachers)
            {
                <a href="/Teacher/@item.Id" class="list-group-item">
                    <div class="media">
                        <span class="pull-right">
                            <img class="media-object" data-src="holder.js/64x64" alt="64x64" src="@item.PictureUrl" style="width: 64px; height: 64px;">
                        </span>
                        <div class="media-body">
                            <h4 class="media-heading">@item.GetFullName()</h4>
                            <div><strong>תחומים:</strong> @item.GetSubjects()</div>
                            <div><strong>עיר:</strong> @item.City</div>
                        </div>
                    </div>
                </a>
            }
            </div>
        </div>
        <div class="col-md-4">
            <div class="list-group">
                <a href="#" class="list-group-item active">
                    <strong>מורים חדשים</strong>
                </a>
                @foreach (var item in Model.NewTeachers)
            {
                <a href="/Teacher/@item.Id" class="list-group-item">
                    <div class="media">
                        <span class="pull-right">
                            <img class="media-object" data-src="holder.js/64x64" alt="64x64" src="@item.PictureUrl" style="width: 64px; height: 64px;">
                        </span>
                        <div class="media-body">
                            <h4 class="media-heading">@item.GetFullName()</h4>
                            <div><strong>תחומים:</strong> @item.GetSubjects()</div>
                            <div><strong>עיר:</strong> @item.City</div>
                        </div>
                    </div>
                </a>
            }
            </div>

        </div>

        @*<div class="col-md-4">
                <h2>Web Hosting</h2>
                <p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
                <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301867">Learn more &raquo;</a></p>
            </div>*@
    </div>
</div>
@Styles.Render("~/Content/jqueryui")
@section Scripts {
    @Scripts.Render("~/bundles/jqueryui")

    <script language="javascript" type="text/javascript">

        $(document).ready(function () {
            $("#streetName").autocomplete({
                position: { my: "right top", at: "right bottom", collision: "none" },
                source: '@Url.Action("AutocompleteStreet")'
            });
            $("#firstName").autocomplete({
                position: { my: "right top", at: "right bottom", collision: "none" },
                source: '@Url.Action("AutocompleteFirstName")'
            });
            $("#lastName").autocomplete({
                position: { my: "right top", at: "right bottom", collision: "none" },
                source: '@Url.Action("AutocompleteLastName")'
            });
        });

        //Allow only numbers to be typed in a textbox
        function isNumber(evt) {
            evt = (evt) ? evt : window.event;
            var charCode = (evt.which) ? evt.which : evt.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
            return true;
        }
        //Allow only numbers and decimal point
        function isDecimalNumberKey(evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode != 46 && charCode > 31
              && (charCode < 48 || charCode > 57))
                return false;
            return true;
        }

    </script>
}
